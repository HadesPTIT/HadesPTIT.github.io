<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[Android] Khám phá notification channel trên Android O" /><meta property="og:locale" content="en_US" /><meta name="description" content="Trong bài viết này chúng ta cùng tìm hiểu về Notification Channels và cách đưa chúng vào ứng dụng như thế nào nhé !" /><meta property="og:description" content="Trong bài viết này chúng ta cùng tìm hiểu về Notification Channels và cách đưa chúng vào ứng dụng như thế nào nhé !" /><link rel="canonical" href="https://hadesptit.github.io/posts/android-notification-channel/" /><meta property="og:url" content="https://hadesptit.github.io/posts/android-notification-channel/" /><meta property="og:site_name" content="Hades" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2018-08-19T14:15:03+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Android] Khám phá notification channel trên Android O" /><meta name="twitter:site" content="@hades_pt" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2018-08-19T14:15:03+00:00","datePublished":"2018-08-19T14:15:03+00:00","description":"Trong bài viết này chúng ta cùng tìm hiểu về Notification Channels và cách đưa chúng vào ứng dụng như thế nào nhé !","headline":"[Android] Khám phá notification channel trên Android O","mainEntityOfPage":{"@type":"WebPage","@id":"https://hadesptit.github.io/posts/android-notification-channel/"},"url":"https://hadesptit.github.io/posts/android-notification-channel/"}</script><title>[Android] Khám phá notification channel trên Android O | Hades</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/20601191?s=400" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hades</a></div><div class="site-subtitle font-italic">Chase excellence success will follow you</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/HadesPTIT" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/hades_pt" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['Hphamptit','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Android] Khám phá notification channel trên Android O</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Android] Khám phá notification channel trên Android O</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Hades </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Aug 19, 2018, 2:15 PM +0000" prep="on" > Aug 19, 2018 <i class="unloaded">2018-08-19T14:15:03+00:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1183 words">6 min</span></div></div><div class="post-content"><p>Trong bài viết này chúng ta cùng tìm hiểu về Notification Channels và cách đưa chúng vào ứng dụng như thế nào nhé !</p><h1 id="notification-channels-là-gì-">Notification Channels là gì ?</h1><p>Notification Channels cung cấp cho chúng ta khả năng nhóm các thông báo mà ứng dụng của ta gửi vào các nhóm để quản lý. Một khi những notifications nằm trong những kênh này, người dùng phải quản lý chúng.</p><p>Hãy nhìn vào các tùy chọn bên dưới :</p><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://images.viblo.asia/bfc711d9-73f6-4bff-b655-0678cbb7225d.png" alt="" /></p><p>Bắt đầu từ bên trái, bạn có thể thấy trong màn hình đầu tiên cài đặt thông báo cho ứng dụng. Với các tùy chọn đó bạn có thể :</p><ol><li>Chặn tất cả các kênh thông báo cho ứng dụng. Có nghĩa là tất cả thông báo từ ứng dụng của bạn sẽ không bao giờ được hiển thị trên thiết bị của người dùng.<li>Nếu được hỗ trợ, người dùng có thể xác định xem thông báo của ứng dụng có thể được hiển thị dưới dạng huy hiệu (badge) hay không.<li>Các danh mục thông báo tồn tại cho ứng dụng. Người dùng có thể bật hoặc tắt các tính năng này.</ol><p>Tiếp đến là màn hình thứ hai, người dùng có thể truy cập vào nó khi chọn một danh mục từ mục Category ở màn hình đầu. Ở đây người dùng có thể :</p><ol><li>Chặn tất cả thông báo của ứng dụng đến từ kênh này.<li>Hiển thị thông báo từ kênh này tại màn Home nếu được hỗ trợ.<li>Thiết đặt mực độ quan trọng của thông báo. Tùy chọn này thể hiện rõ khi nhận được một thông báo. Các mức độ được đưa ra có thể thấy được tại màn hình cuối.</ol><p>Một tính năng khá là hay nữa đó là chúng ta có thể nhóm các kênh thống báo lại thành các nhóm riêng biệt. Điều này giúp ta có thể có cùng một kênh thông báo trên nhiều chế độ ứng dụng. <img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="https://images.viblo.asia/10ebc426-7b06-4bb3-b47a-40c2aa7c5ce0.png" alt="" /></p><p>Lấy một ví dụ nào :</p><p>Ứng dụng của mình có thể hỗ trợ chế độ như Personal, Business, Child, Parent.. . Điều này cho phép cung cấp các tùy chọn quản lý cài đặt thông báo trên nhiều nhóm. Trên các phiên bản Android cũ trước Android O, các tính năng mới này bị bỏ qua hoàn toàn.</p><p>Đến đây thì chắc mọi người cũng biết thêm một chút về Notification Channels rồi, giờ thì bắt tay vào code thôi :D</p><h1 id="tạo-1-notification-channel">Tạo 1 Notification Channel</h1><p>Khá đơn giản để tạo 1 kênh thông báo trong ứng dụng của mình :</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span> <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">channelId</span> <span class="o">=</span> <span class="s">"some_channel_id"</span><span class="o">;</span>
<span class="nc">CharSequence</span> <span class="n">channelName</span> <span class="o">=</span> <span class="s">"Some Channel"</span><span class="o">;</span>
<span class="kt">int</span> <span class="n">importance</span> <span class="o">=</span> <span class="nc">NotificationManager</span><span class="o">.</span><span class="na">IMPORTANCE_LOW</span><span class="o">;</span>
<span class="nc">NotificationChannel</span> <span class="n">notificationChannel</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">NotificationChannel</span><span class="o">(</span><span class="n">channelId</span><span class="o">,</span> <span class="n">channelName</span><span class="o">,</span> <span class="n">importance</span><span class="o">);</span>
<span class="n">notificationChannel</span><span class="o">.</span><span class="na">enableLights</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">notificationChannel</span><span class="o">.</span><span class="na">setLightColor</span><span class="o">(</span><span class="nc">Color</span><span class="o">.</span><span class="na">RED</span><span class="o">);</span>
<span class="n">notificationChannel</span><span class="o">.</span><span class="na">enableVibration</span><span class="o">(</span><span class="kc">true</span><span class="o">);</span>
<span class="n">notificationChannel</span><span class="o">.</span><span class="na">setVibrationPattern</span><span class="o">(</span><span class="k">new</span> <span class="kt">long</span><span class="o">[]{</span><span class="mi">100</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">,</span> <span class="mi">400</span><span class="o">,</span> <span class="mi">500</span><span class="o">,</span> <span class="mi">400</span><span class="o">,</span> <span class="mi">300</span><span class="o">,</span> <span class="mi">200</span><span class="o">,</span> <span class="mi">400</span><span class="o">});</span>
<span class="n">notificationManager</span><span class="o">.</span><span class="na">createNotificationChannel</span><span class="o">(</span><span class="n">notificationChannel</span><span class="o">);</span>
</pre></table></code></div></div><p>Khi thao tác với Notification Channel, bạn sẽ được cung cấp một số phương thức :</p><ul><li><strong>getId()</strong> — Trả về Id của channel.<li><strong>enableLights()</strong> — Nếu thiết bị hỗ trợ đèn thông báo, nó cho phép kênh thông báo này có hiển thị ánh sáng hay không.<li><strong>setLightColor()</strong> — Xác định màu được sử dụng cho đèn thông báo.<li><strong>enableVibration()</strong> — Rung khi thông báo được hiển thị trên thiết bị.<li><strong>setVibrationPattern()</strong> — Kiểu mẫu rung được sử dụng, được định nghĩa bằng 1 mảng long[].<li><strong>setImportance()</strong> — Thiết đặt mức độ gián đoạn của kênh thông báo.<li><strong>setSound()</strong> — Cung cấp 1 Uri để phát âm thanh khi thông báo được đăng lên kênh này.<li><strong>setGroup()</strong> — Thiết đặt group mà thông báo được gán vào.<li><strong>setBypassDnd()</strong> — Có bỏ qua chế độ không làm phiền không (Not Disturb mode).<li><strong>setLockScreenVisibility()</strong> — Thông báo từ kênh này được hiển thị trên màn hình khóa không.<li><strong>canShowBadge()</strong> — Thông báo từ kênh này có thể xuất hiện dưới dạng huy hiệu (badge) trên launcher ứng dụng không.</ul><p>Bạn có thể đọc thêm về Notification Channels <a href="https://developer.android.com/reference/android/app/NotificationChannel#enableLights%28boolean%29">ở đây</a>.</p><p>OK, sau khi tạo xong channel ta có thể sử dụng Id của channel vừa tạo để tạo một Notification hiển thị trên thiết bị người dùng.</p><h1 id="tạo-1-notification-channel-group">Tạo 1 Notification Channel Group</h1><p>Như đã đề cập bên trên, ta có thể nhóm các kênh thông báo lại thành các nhóm có thể quản lý được. Điều này cho phép ta có các kênh thông báo có tên giống nhau được xác định bởi các phần quản lý khác nhau. Điều này rất hữu ích nếu ứng dụng hỗ trợ nhiều tài khoản (multi accounts) hay chế độ (mode).</p><p>Để tạo một nhóm kênh thông báo, ta gọi phương thức <code class="language-plaintext highlighter-rouge">createNotificationChannelGroup()</code> được cung cấp bởi Notification Manager. Khi đó, ta phải truyền vào 1 instance của <code class="language-plaintext highlighter-rouge">NotificationChannelGroup</code> bao gồm 2 tham số :</p><ul><li><strong>Group Id</strong> : Id định danh cho group này.<li><strong>Group name</strong> : Tên của group được hiển thị với người dùng.</ul><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nc">String</span> <span class="n">groupId</span> <span class="o">=</span> <span class="s">"some_group_id"</span><span class="o">;</span>
<span class="nc">CharSequence</span> <span class="n">groupName</span> <span class="o">=</span> <span class="s">"Some Group"</span><span class="o">;</span>
<span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span> <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="n">notificationManager</span><span class="o">.</span><span class="na">createNotificationChannelGroup</span><span class="o">(</span><span class="k">new</span> <span class="nc">NotificationChannelGroup</span><span class="o">(</span><span class="n">groupId</span><span class="o">,</span> <span class="n">groupName</span><span class="o">));</span>
</pre></table></code></div></div><p>OK, sau khi tạo xong một channel group ta có thể gọi phương thức <code class="language-plaintext highlighter-rouge">setGroup()</code> khi tạo được một instance của Notification Channel bằng cách truyền vào Id của group mà muốn liên kết đến.</p><h1 id="tạo-1-notification">Tạo 1 Notification</h1><p>Kể từ Android O, khi bạn tạo 1 notification bắt buộc phải khai báo một channel bằng phương thức <code class="language-plaintext highlighter-rouge">setChannel()</code>. Điều này nhằm đảm bảo rằng thông báo thuộc về một kênh có thể được người dùng quản lý từ cài đặt thiết bị của họ.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre>
<span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span> 
        <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="kt">int</span> <span class="n">notifyId</span> <span class="o">=</span> <span class="mi">1</span><span class="o">;</span>
<span class="nc">String</span> <span class="n">channelId</span> <span class="o">=</span> <span class="s">"some_channel_id"</span><span class="o">;</span>

<span class="nc">Notification</span> <span class="n">notification</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Notification</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentTitle</span><span class="o">(</span><span class="s">"Some Message"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setContentText</span><span class="o">(</span><span class="s">"You've received new messages!"</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setSmallIcon</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">ic_notification</span><span class="o">)</span>
        <span class="o">.</span><span class="na">setChannel</span><span class="o">(</span><span class="n">channelId</span><span class="o">)</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
        
<span class="n">notificationManager</span><span class="o">.</span><span class="na">notify</span><span class="o">(</span><span class="n">id</span><span class="o">,</span> <span class="n">notification</span><span class="o">);</span>
</pre></table></code></div></div><h1 id="đọc-thiết-lập-kênh-thông-báo">Đọc thiết lập kênh thông báo</h1><p>Để xem các thiết đặt mà người dùng đã áp dụng cho 1 kênh thông báo xác định :</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span>
        <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="nc">NotificationChannel</span> <span class="n">notificationChannel</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">.</span><span class="na">getNotificationChannel</span><span class="o">(</span><span class="s">"some_id"</span><span class="o">);</span>
</pre></table></code></div></div><p>Bạn cũng có thể truy xuất tất cả các kênh thông báo :</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span>
        <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="nc">List</span><span class="o">&lt;</span><span class="nc">NotificationChannel</span><span class="o">&gt;</span> <span class="n">notificationChannels</span> <span class="o">=</span> <span class="n">notificationManager</span><span class="o">.</span><span class="na">getNotificationChannels</span><span class="o">();</span>
</pre></table></code></div></div><h1 id="cập-nhật-thiết-lập-kênh-thông-báo">Cập nhật thiết lập kênh thông báo</h1><p>Sau khi kênh thông báo được tạo, người dùng chịu trách nhiệm sửa đổi bất kì cài đặt nào của kênh đó. Mặc dù không thể cung cấp khả năng sửa đổi từ bên trong ứng dụng nhưng ta có thể hướng người dùng đến trang cài đặt thông báo thông qua Intent :</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="nc">Intent</span> <span class="n">intent</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Intent</span><span class="o">(</span><span class="nc">Settings</span><span class="o">.</span><span class="na">ACTION_CHANNEL_NOTIFICATION_SETTINGS</span><span class="o">);</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="nc">Settings</span><span class="o">.</span><span class="na">EXTRA_CHANNEL_ID</span><span class="o">,</span> <span class="n">notificationChannel</span><span class="o">.</span><span class="na">getId</span><span class="o">());</span>
<span class="n">intent</span><span class="o">.</span><span class="na">putExtra</span><span class="o">(</span><span class="nc">Settings</span><span class="o">.</span><span class="na">EXTRA_APP_PACKAGE</span><span class="o">,</span> <span class="n">getPackageName</span><span class="o">());</span>
<span class="n">startActivity</span><span class="o">(</span><span class="n">intent</span><span class="o">);</span>
</pre></table></code></div></div><h1 id="xóa-notification-channel">Xóa Notification Channel</h1><p>Nếu không cần sử dụng kênh thông báo nữa, ta có thể sử dụng phương thức <code class="language-plaintext highlighter-rouge">deleteNotificationChannel()</code> và truyền vào Id của channel muốn xóa.</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nc">NotificationManager</span> <span class="n">notificationManager</span> <span class="o">=</span>
        <span class="o">(</span><span class="nc">NotificationManager</span><span class="o">)</span> <span class="n">getSystemService</span><span class="o">(</span><span class="nc">Context</span><span class="o">.</span><span class="na">NOTIFICATION_SERVICE</span><span class="o">);</span>
<span class="nc">String</span> <span class="n">channelId</span> <span class="o">=</span> <span class="s">"some_channel_id"</span><span class="o">;</span>
<span class="nc">NotificationChannel</span> <span class="n">notificationChannel</span> <span class="o">=</span> 
        <span class="n">notificationManager</span><span class="o">.</span><span class="na">getNotificationChannel</span><span class="o">(</span><span class="n">channelId</span><span class="o">);</span>
<span class="n">notificationManager</span><span class="o">.</span><span class="na">deleteNotificationChannel</span><span class="o">(</span><span class="n">notificationChannel</span><span class="o">);</span>
</pre></table></code></div></div><h1 id="kết-luận">Kết luận</h1><p>Trên đây là những giới thiệu cơ bản về <code class="language-plaintext highlighter-rouge">Notification Channel</code>. Hi vọng qua bài viết này bạn có thể hiểu được tổng quan về Notification Channel cũng như cách tạo channel, channel group hay cách quản lý chúng.</p><h1 id="tham-khảo">Tham khảo</h1><p>Nguồn tham khảo :</p><p>https://developer.android.com/guide/topics/ui/notifiers/notifications#ManageChannels</p><p>https://medium.com/exploring-android/exploring-android-o-notification-channels-94cd274f604c</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/notification-channel/" class="post-tag no-text-decoration" >notification channel</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Android] Khám phá notification channel trên Android O - Hades&url=https://hadesptit.github.io/posts/android-notification-channel/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Android] Khám phá notification channel trên Android O - Hades&u=https://hadesptit.github.io/posts/android-notification-channel/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Android] Khám phá notification channel trên Android O - Hades&url=https://hadesptit.github.io/posts/android-notification-channel/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://hadesptit.github.io/posts/android-notification-channel/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/android-structure/"><div class="card-body"> <span class="timeago small" > Aug 12, 2016 <i class="unloaded">2016-08-12T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] Cách tổ chức thư mục cho 1 project Android</h3><div class="text-muted small"><p> Hi mọi người! Dạo gần đây mình có xây dựng 1 dự án android nhỏ. Dưới đây là một cách tổ chức thư mục mà mình cho là khá hợp lý. Hi vọng mọi người có thể tham khảo và góp ý. ├─ com.abc │ ├─ activ...</p></div></div></a></div><div class="card"> <a href="/posts/android-recycler-view/"><div class="card-body"> <span class="timeago small" > Jul 12, 2018 <i class="unloaded">2018-07-12T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] RecyclerView</h3><div class="text-muted small"><p> Giới thiệu RecycleView là một viewGroup mới được giới thiệu trong Android L (API 21). Là một viewGroup có chức năng tương tự như ListView nhưng linh hoạt hơn rất nhiều. ListView chỉ hỗ trợ bạn sc...</p></div></div></a></div><div class="card"> <a href="/posts/luu-y-khi-su-dung-string-xml/"><div class="card-body"> <span class="timeago small" > Aug 8, 2018 <i class="unloaded">2018-08-08T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Android] Một số lưu ý khi sử dụng strings.xml</h3><div class="text-muted small"><p> Hi mọi người! Trong bài viết này mình sẽ chia sẻ một số lưu ý khi làm việc với strings.xml. Đừng dùng lại Đừng sử dụng lại strings cho nhiều màn hình khác nhau. 1. Tưởng tượng rằng bạn có một...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/luu-y-khi-su-dung-string-xml/" class="btn btn-outline-primary" prompt="previous"><p>[Android] Một số lưu ý khi sử dụng strings.xml</p></a> <a href="/posts/android-performance-rendering/" class="btn btn-outline-primary" prompt="next"><p>[Android] Performance  -  Rendering</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/HadesPTIT">Hades</a>.</p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://HadesPTIT.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
