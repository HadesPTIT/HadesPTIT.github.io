<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate" /><meta property="og:locale" content="en_US" /><meta name="description" content="Introduction" /><meta property="og:description" content="Introduction" /><link rel="canonical" href="https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" /><meta property="og:url" content="https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" /><meta property="og:site_name" content="Hades" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2019-08-10T14:15:03+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate" /><meta name="twitter:site" content="@hades_pt" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2019-08-10T14:15:03+00:00","datePublished":"2019-08-10T14:15:03+00:00","description":"Introduction","headline":"[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate","mainEntityOfPage":{"@type":"WebPage","@id":"https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/"},"url":"https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/"}</script><title>[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate | Hades</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/20601191?s=400" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hades</a></div><div class="site-subtitle font-italic">Chase excellence success will follow you</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/HadesPTIT" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/hades_pt" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['Hphamptit','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Hades </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Aug 10, 2019, 2:15 PM +0000" prep="on" > Aug 10, 2019 <i class="unloaded">2019-08-10T14:15:03+00:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="470 words">2 min</span></div></div><div class="post-content"><h3 id="introduction">Introduction</h3><p>Là 1 fan của RxJava, khi sử dụng tôi nhận thấy rằng rất nhiều trường hợp sử dụng với RxJava tuân theo cùng một flow từ việc setup đến khi kết thúc logic. <br /> Một usecase phổ biến là tải dữ liệu lên màn hình như sau:</p><ol><li>Hiển thị trạng thái đang Loading.<li>Tải dữ liệu<li>Khi dữ liệu được tải thành công rồi thì ẩn trạng thái loading đi và cập nhật UI.<li>Hoặc khi có lỗi xảy ra, ẩn trạng thái loading đi và hiển thị lỗi.</ol><p>OK, vậy khi thể hiện trong code nó sẽ như nào ?</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre><td class="rouge-code"><pre><span class="n">fun</span> <span class="nf">getDataFromServer</span><span class="o">()</span> <span class="o">{</span>
	
    <span class="n">view</span><span class="o">.</span><span class="na">showLoadingIndicator</span><span class="o">();</span>

    <span class="n">loadFromServer</span><span class="o">()</span>
            <span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">applySchedulers</span><span class="o">())</span>
            <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">data</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">hideLoadingIndicator</span><span class="o">();</span>
                <span class="n">view</span><span class="o">.</span><span class="na">showData</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
            <span class="o">},</span> <span class="n">error</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">hideLoadingIndicator</span><span class="o">();</span>
                <span class="n">view</span><span class="o">.</span><span class="na">showError</span><span class="o">(</span><span class="n">error</span><span class="o">);</span>
            <span class="o">});</span>

    <span class="n">loadData</span><span class="o">()</span>

<span class="o">}</span>
</pre></table></code></div></div><p>Có lẽ bạn đã phát hiện ra điều gì đó rồi chứ, view.hideLoadingIndicator() bị gọi 2 lần. Có thể bạn thấy điều này không quá là vấn đề nhưng đây mới chỉ là ví dụ đơn giản mà việc hideLoading đã bị duplicate, với những trường hợp phức tạp hơn, việc hideLoading sẽ phải gọi nhiều lần trong chuỗi. Có 2 lý do khiến mình không thích điều này :</p><ul><li>view.showLoadingIndicator() bị out khỏi chuỗi mặc dù nó được gắn với logic.<li>Phần logic xử lý lỗi lại chứa code không xử lý lỗi.</ul><h3 id="how-to-resolve-">How to resolve ?</h3><p>Trong phần này, mình muốn giới thiệu 3 toán tử tiện lợi giúp cho code trở lên clean hơn :</p><ul><li><strong>doOnSubscribe()</strong> : sửa đổi nguồn source để nó gọi action được chỉ định <strong>ngay</strong> khi được subscribe.<li><strong>doOnTerminate()</strong> : gọi action được chỉ định ngay <strong>trước</strong> khi Observable thông báo onError() hoặc onCompleted()<li><strong>doAfterTerminate()</strong> : gọi hành động được chỉ định ngay <strong>sau</strong> khi Observable rơi vào onError() hoặc onCompleted()<li><strong>doFinally()</strong> : gọi hành động được chỉ định <strong>sau</strong> khi Observable rơi vào onError() hoặc onCompleted() hoặc bị disposed bởi downstream.</ul><p>Áp dụng những điều này cho ví dụ trên, kết quả sẽ như sau :</p><div class="language-java highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="n">fun</span> <span class="nf">getDataFromServer</span><span class="o">()</span> <span class="o">{</span>

    <span class="n">loadFromServer</span><span class="o">()</span>
            <span class="o">.</span><span class="na">compose</span><span class="o">(</span><span class="n">applySchedulers</span><span class="o">())</span>
            <span class="o">.</span><span class="na">doOnSubscribe</span><span class="o">(</span><span class="n">__</span> <span class="o">-&gt;</span> <span class="n">view</span><span class="o">.</span><span class="na">showLoadingIndicator</span><span class="o">())</span>
            <span class="o">.</span><span class="na">doOnTerminate</span><span class="o">(()</span> <span class="o">-&gt;</span> <span class="n">view</span><span class="o">.</span><span class="na">hideLoadingIndicator</span><span class="o">())</span>
            <span class="o">.</span><span class="na">subscribe</span><span class="o">(</span><span class="n">data</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">showData</span><span class="o">(</span><span class="n">data</span><span class="o">);</span>
            <span class="o">},</span> <span class="n">error</span> <span class="o">-&gt;</span> <span class="o">{</span>
                <span class="n">view</span><span class="o">.</span><span class="na">showError</span><span class="o">(</span><span class="n">error</span><span class="o">);</span>
            <span class="o">});</span>

    <span class="n">loadData</span><span class="o">();</span>

<span class="o">}</span>
</pre></table></code></div></div><p>Thay đổi nhỏ, nhưng nhìn đã clean hơn kha khá rồi phải không :D <br /> Có bạn thắc mắc tại sao mình sử dụng <strong>doOnTerminate()</strong> thay vì <strong>doFinally()</strong> ?</p><p>=&gt; Bởi vì trong trường hợp này, mình dispose observable sau khi screen bị destroy do đó mình không gọi các thao tác UI trong trường hợp này.</p><h3 id="conclusion">Conclusion</h3><p>Hi vọng bài viết này giúp bạn đánh giá cao lợi ích mà những thay đổi nho có thể mang lại. Happy coding !!!</p><h3 id="reference">Reference</h3><ul><li><a href="https://medium.com/@ValCanBuild/making-rxjava-code-tidier-with-doonsubscribe-and-dofinally-3748f223d32d">Making rxjava code tidier with doOnSucsribe &amp; doFinally</a></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/rxjava/" class="post-tag no-text-decoration" >rxjava</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate - Hades&url=https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate - Hades&u=https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[RxJava] Code gọn gàng hơn với doOnSubscribe, doFinally và doOnTerminate - Hades&url=https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://hadesptit.github.io/posts/rxjava-shorten-code-with-do-on/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/rxjava-start/"><div class="card-body"> <span class="timeago small" > Jul 6, 2019 <i class="unloaded">2019-07-06T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[RxJava] Khái niệm</h3><div class="text-muted small"><p> Giới thiệu Khi tôi mới học Android, ai đó đã nói với tôi rằng “Nếu bạn muốn học thứ gì khó khó, hãy học RxJava”. Trong series này, tôi sẽ cùng các bạn tìm hiểu nó từ những điều đơn giản nhất nhé. ...</p></div></div></a></div><div class="card"> <a href="/posts/rxjava-handle-thread-in-android/"><div class="card-body"> <span class="timeago small" > Jul 8, 2019 <i class="unloaded">2019-07-08T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[RxJava] Xử lý luồng trong Android</h3><div class="text-muted small"><p> Giới thiệu Xử lý luồng luôn là một chủ đề khó trong lập trình. Và nó cực kì quan trọng trong Android, nhất là khi ta phải đưa tất cả luồng xử lý network, database, tính toán… xuống tác vụ nền để t...</p></div></div></a></div><div class="card"> <a href="/posts/rxjava-hot-cold-observer/"><div class="card-body"> <span class="timeago small" > Aug 8, 2019 <i class="unloaded">2019-08-08T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[RxJava] HOT & COLD Observable</h3><div class="text-muted small"><p> Introduction Để hiểu được concept về HOT &amp; COLD Observable, hãy nhìn vào những gì mà thằng Producer sản xuất ra. Bạn có thể hiểu đơn giản là như thế này : Khi dữ liệu được tạo ra bên ngoài...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/rxjava-concat-merge/" class="btn btn-outline-primary" prompt="previous"><p>[RxJava] Concat & Merge operator</p></a> <a href="/posts/combine-observables/" class="btn btn-outline-primary" prompt="next"><p>[RxJava] Combining Observables</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/HadesPTIT">Hades</a>.</p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://HadesPTIT.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
