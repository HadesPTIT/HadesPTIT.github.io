<!DOCTYPE html><html lang="en-US" mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="[Flutter] ShrinkWrap vs Slivers Decoding Flutter" /><meta property="og:locale" content="en_US" /><meta name="description" content="Introduction" /><meta property="og:description" content="Introduction" /><link rel="canonical" href="https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" /><meta property="og:url" content="https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" /><meta property="og:site_name" content="Hades" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-20T14:15:03+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Flutter] ShrinkWrap vs Slivers Decoding Flutter" /><meta name="twitter:site" content="@hades_pt" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-11-20T14:15:03+00:00","datePublished":"2021-11-20T14:15:03+00:00","description":"Introduction","headline":"[Flutter] ShrinkWrap vs Slivers Decoding Flutter","mainEntityOfPage":{"@type":"WebPage","@id":"https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/"},"url":"https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/"}</script><title>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter | Hades</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id="></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', ''); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars.githubusercontent.com/u/20601191?s=400" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Hades</a></div><div class="site-subtitle font-italic">Chase excellence success will follow you</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/HadesPTIT" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/hades_pt" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['Hphamptit','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Posts </a> </span> <span>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Hades </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sat, Nov 20, 2021, 2:15 PM +0000" prep="on" > Nov 20, 2021 <i class="unloaded">2021-11-20T14:15:03+00:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1530 words">8 min</span></div></div><div class="post-content"><h2 id="introduction"><strong>Introduction</strong></h2><p>Một trong những widget cơ bản mà các developer sử dụng thường xuyên đó là <strong>ListView</strong>. <br /> ListView rất dễ dùng, nhưng để tối ưu nó thì không hẳn ai cũng biết. Trong bài viết này, mình sẽ cùng đi vào một usecase rất phổ biến đó là lồng listview trong listview và bài toán performance.</p><p>Ví dụ bên dưới đây cho bạn thấy cách mà ta lồng các ListView con vào 1 ListView thông thường.</p><div class="language-dart highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre>
<span class="n">ListView</span><span class="p">(</span>
  <span class="c1">// Setting `shrinkWrap` to `true` here is both unnecessary and expensive.</span>
  <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
    <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
      <span class="nl">itemCount:</span> <span class="n">list1Children</span><span class="o">.</span><span class="na">length</span><span class="p">,</span>
      <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">list1Children</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
      <span class="p">},</span>
      <span class="c1">// This forces the `ListView` to build all of its children up front,</span>
      <span class="c1">// negating much of the benefit of using `ListView.builder`.</span>
      <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
      <span class="nl">itemCount:</span> <span class="n">list2Children</span><span class="o">.</span><span class="na">length</span><span class="p">,</span>
      <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">list2Children</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
      <span class="p">},</span>
      <span class="c1">// This forces the `ListView` to build all of its children up front,</span>
      <span class="c1">// negating much of the benefit of using `ListView.builder`.</span>
      <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="p">...</span>
  <span class="p">],</span>
<span class="p">)</span>
</pre></table></code></div></div><p>Hãy cùng xem lại về định nghĩa của <code class="language-plaintext highlighter-rouge">shrinkWrap</code> ở <a href="https://api.flutter.dev/flutter/widgets/ScrollView/shrinkWrap.html">đây</a></p><blockquote><p>Việc set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code> sẽ force toàn bộ listview bên trong của bạn tính toán lại sao cho chiều cao của list là hữu hạn thay vì chiều cao thông thường của các listview là vô cùng. Điều này sẽ gây giảm hiệu năng hơn đáng kể bởi kích thước của scrollview luôn cần được tính toán lại bất cứ khi nào vị trí scroll thay đổi.</p></blockquote><p>Giờ thì bạn đã hiểu tại sao phần code bên trên sẽ khá <code class="language-plaintext highlighter-rouge">tốn kém</code> rồi phải không :D</p><p>Có 2 vấn đề bạn cần phải để ý :</p><ol><li><code class="language-plaintext highlighter-rouge">ListView</code> bao ngoài cùng đang không set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code>, mà chỉ listview con cần set mà thôi<li><code class="language-plaintext highlighter-rouge">ListView.Builder</code> hiệu quả trong việc build các thành phần con của nó, tránh việc phải build những widget không thuộc viewport. Nhưng việc set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code> sẽ overrides lại cách làm này, khi đó ListView.Builder sẽ không còn ý nghĩa nữa.</ol><h3 id="everything-builds">Everything builds!</h3><div class="language-dart highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'dart:math'</span> <span class="k">as</span> <span class="n">math</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">ShrinkWrApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="nl">debugShowCheckedModeBanner:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s">'ShrinkWrap vs Slivers'</span><span class="p">,</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="kd">const</span> <span class="n">Text</span><span class="p">(</span><span class="s">"ShrinkWrap, Street Rat, I don't, Buy that!"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">(),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrapSlivers</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">({</span>
    <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">_ShrinkWrapSliversState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_ShrinkWrapSliversState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_ShrinkWrapSliversState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ShrinkWrapSlivers</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">List</span><span class="p">&lt;</span><span class="n">ListView</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">final</span> <span class="n">numLists</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">numberOfItemsPerList</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">numLists</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">_innerList</span> <span class="o">=</span> <span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">numberOfItemsPerList</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_innerList</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="kd">const</span> <span class="n">ColorRow</span><span class="p">());</span>
      <span class="p">}</span>
      <span class="n">innerLists</span><span class="o">.</span><span class="na">add</span><span class="p">(</span>
        <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
          <span class="nl">itemCount:</span> <span class="n">numberOfItemsPerList</span><span class="p">,</span>
          <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_innerList</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
          <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nl">physics:</span> <span class="kd">const</span> <span class="n">NeverScrollableScrollPhysics</span><span class="p">(),</span>
        <span class="p">),</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
        <span class="nl">itemCount:</span> <span class="n">numLists</span><span class="p">,</span>
        <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">innerLists</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">ColorRow</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ColorRow</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">State</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">ColorRowState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ColorRowState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="n">Color</span><span class="o">?</span> <span class="n">color</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">randomColor</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">'Building ColorRowState'</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
      <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="p">(</span>
        <span class="nl">gradient:</span> <span class="n">LinearGradient</span><span class="p">(</span>
          <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">topLeft</span><span class="p">,</span>
          <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomRight</span><span class="p">,</span>
          <span class="nl">colors:</span> <span class="p">[</span>
            <span class="n">randomColor</span><span class="p">(),</span>
            <span class="n">randomColor</span><span class="p">(),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">child:</span> <span class="n">Row</span><span class="p">(</span>
        <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
          <span class="n">Padding</span><span class="p">(</span>
            <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mf">8.0</span><span class="p">),</span>
            <span class="nl">child:</span> <span class="n">Container</span><span class="p">(</span><span class="nl">height:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">width:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">),</span>
          <span class="p">),</span>
          <span class="n">Flexible</span><span class="p">(</span>
            <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
              <span class="nl">children:</span> <span class="kd">const</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
                <span class="n">Padding</span><span class="p">(</span>
                  <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">'I</span><span class="se">\'</span><span class="s">m a widget!'</span><span class="p">,</span>
                      <span class="nl">style:</span> <span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">)),</span>
                <span class="p">),</span>
              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">],</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">Color</span> <span class="nf">randomColor</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
    <span class="n">Color</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="na">Random</span><span class="p">()</span><span class="o">.</span><span class="na">nextDouble</span><span class="p">()</span> <span class="o">*</span> <span class="mh">0xFFFFFF</span><span class="p">)</span><span class="o">.</span><span class="na">toInt</span><span class="p">())</span><span class="o">.</span><span class="na">withOpacity</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
</pre></table></code></div></div><p>Nếu chạy thử, bạn sẽ thấy 1 vấn đề xảy ra, đó là ngay khi UI được load, 100 item đầu được render ngay mặc dù ta mới chỉ nhìn thấy vài item đầu… Và khi bạn scroll thêm một đoạn đủ 100 item, thì 100 item tiếp theo sẽ được load ngay sau đó tại 1 thời điểm. Đây như là một vụ bom nổ vậy :D</p><p>Giờ phải làm như nào ???</p><h3 id="lazily-building-nested-lists">Lazily building nested lists</h3><p>Để cứu bạn, hãy cùng xay dựng lại giao diện với <code class="language-plaintext highlighter-rouge">Slivers</code> thay vì ListViews.</p><p>Để tìm hiểu thêm về sliver, hãy đọc ở <a href="https://docs.flutter.dev/development/ui/advanced/slivers">đây</a></p><h4 id="bước-1">Bước 1</h4><p>Thay ListView wrap ngoài cùng bằng <code class="language-plaintext highlighter-rouge">SliverList</code></p><div class="language-dart highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1">// Before</span>
<span class="nd">@override</span>
<span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
    <span class="nl">itemCount:</span> <span class="n">numberOfLists</span><span class="p">,</span>
    <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">innerLists</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// After</span>
<span class="nd">@override</span>
<span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">CustomScrollView</span><span class="p">(</span><span class="nl">slivers:</span> <span class="n">innerLists</span><span class="p">);</span>
<span class="p">}</span>

</pre></table></code></div></div><h4 id="bước-2">Bước 2</h4><p>Thay đổi data type của listview con từ List<ListView> =&gt; List<SliverList></SliverList></ListView></p><div class="language-dart highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// Before</span>
<span class="kt">List</span><span class="p">&lt;</span><span class="n">ListView</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>

<span class="c1">// After</span>
<span class="kt">List</span><span class="p">&lt;</span><span class="n">SliverList</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>

</pre></table></code></div></div><h4 id="bước-3">Bước 3</h4><p>Giờ thì restructure đống listview con nào. SliverList thì hơi khác so với ListView, chủ yếu từ sự xuất hiện của 1 thằng là delegate.</p><div class="language-plaintext highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre>
// Before
@override
void initState() {
  super.initState();
  for (int i = 0; i &lt; numberOfLists; i++) {
    final _innerList = &lt;ColorRow&gt;[];
    for (int j = 0; j &lt; numberOfItemsPerList; j++) {
      _innerList.add(const ColorRow());
    }
    innerLists.add(
      ListView.builder(
        itemCount: numberOfItemsPerList,
        itemBuilder: (BuildContext context, int index) =&gt; _innerList[index],
        shrinkWrap: true,
        physics: const NeverScrollableScrollPhysics(),
      ),
    );
  }
}

// After
@override
void initState() {
  super.initState();
  for (int i = 0; i &lt; numLists; i++) {
    final _innerList = &lt;ColorRow&gt;[];
    for (int j = 0; j &lt; numberOfItemsPerList; j++) {
      _innerList.add(const ColorRow());
    }
    innerLists.add(
      SliverList(
        delegate: SliverChildBuilderDelegate(
          (BuildContext context, int index) =&gt; _innerList[index],
          childCount: numberOfItemsPerList,
        ),
      ),
    );
  }
}
</pre></table></code></div></div><p>Và đây là thành quả</p><div class="language-dart highlighter-rouge"><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'dart:math'</span> <span class="k">as</span> <span class="n">math</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">SliversApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">SliversApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="nl">debugShowCheckedModeBanner:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s">'ShrinkWrap vs Slivers'</span><span class="p">,</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="kd">const</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Revenge of the Slivers"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">(),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrapSlivers</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">({</span>
    <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">_ShrinkWrapSliversState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_ShrinkWrapSliversState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_ShrinkWrapSliversState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ShrinkWrapSlivers</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">List</span><span class="p">&lt;</span><span class="n">SliverList</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">final</span> <span class="n">numLists</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">numberOfItemsPerList</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">numLists</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">_innerList</span> <span class="o">=</span> <span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">numberOfItemsPerList</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_innerList</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="kd">const</span> <span class="n">ColorRow</span><span class="p">());</span>
      <span class="p">}</span>
      <span class="n">innerLists</span><span class="o">.</span><span class="na">add</span><span class="p">(</span>
        <span class="n">SliverList</span><span class="p">(</span>
          <span class="nl">delegate:</span> <span class="n">SliverChildBuilderDelegate</span><span class="p">(</span>
            <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_innerList</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
            <span class="nl">childCount:</span> <span class="n">numberOfItemsPerList</span><span class="p">,</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">CustomScrollView</span><span class="p">(</span><span class="nl">slivers:</span> <span class="n">innerLists</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">ColorRow</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ColorRow</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">State</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">ColorRowState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ColorRowState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="n">Color</span><span class="o">?</span> <span class="n">color</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">randomColor</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">'Building ColorRowState'</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
      <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="p">(</span>
        <span class="nl">gradient:</span> <span class="n">LinearGradient</span><span class="p">(</span>
          <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">topLeft</span><span class="p">,</span>
          <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomRight</span><span class="p">,</span>
          <span class="nl">colors:</span> <span class="p">[</span>
            <span class="n">randomColor</span><span class="p">(),</span>
            <span class="n">randomColor</span><span class="p">(),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">child:</span> <span class="n">Row</span><span class="p">(</span>
        <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
          <span class="n">Padding</span><span class="p">(</span>
            <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mf">8.0</span><span class="p">),</span>
            <span class="nl">child:</span> <span class="n">Container</span><span class="p">(</span><span class="nl">height:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">width:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">),</span>
          <span class="p">),</span>
          <span class="n">Flexible</span><span class="p">(</span>
            <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
              <span class="nl">children:</span> <span class="kd">const</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
                <span class="n">Padding</span><span class="p">(</span>
                  <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">'I</span><span class="se">\'</span><span class="s">m a widget!'</span><span class="p">,</span>
                      <span class="nl">style:</span> <span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">)),</span>
                <span class="p">),</span>
              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">],</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">Color</span> <span class="nf">randomColor</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
    <span class="n">Color</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="na">Random</span><span class="p">()</span><span class="o">.</span><span class="na">nextDouble</span><span class="p">()</span> <span class="o">*</span> <span class="mh">0xFFFFFF</span><span class="p">)</span><span class="o">.</span><span class="na">toInt</span><span class="p">())</span><span class="o">.</span><span class="na">withOpacity</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
</pre></table></code></div></div><p>Hãy chạy thử đoạn code trên, bạn sẽ thấy rằng UI sẽ không còn render 100 item 1 lúc mà chỉ render 1 phần rất nhỏ. Còn gì tuyệt hơn khi scroll đến cuối danh sách mà không mất bất kì chi phí tốn kém nào.</p><h2 id="conclusion">Conclusion</h2><p>Cảm ơn các bạn đã đọc bài viết. Happy coding ^^</p><h3 id="references">References</h3><ul><li>https://www.youtube.com/watch?v=LUqDNnv_dh0</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/flutter/'>Flutter</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/dart/" class="post-tag no-text-decoration" >dart</a> <a href="/tags/flutter/" class="post-tag no-text-decoration" >flutter</a> <a href="/tags/flutter-performance/" class="post-tag no-text-decoration" >flutter performance</a> <a href="/tags/listview/" class="post-tag no-text-decoration" >listview</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Flutter] ShrinkWrap vs Slivers | Decoding Flutter - Hades&url=https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Flutter] ShrinkWrap vs Slivers | Decoding Flutter - Hades&u=https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Flutter] ShrinkWrap vs Slivers | Decoding Flutter - Hades&url=https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/what-news-in-flutter3/"><div class="card-body"> <span class="timeago small" > Jun 1 <i class="unloaded">2022-06-01T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Flutter] Flutter 3.0 có gì mới ?</h3><div class="text-muted small"><p> Giới thiệu 11/05/2022, Google I/O chính thức phát hành phiên bản Flutter 3 với rất nhiều cải tiến đáng kể. Đặc biệt dành cho các thiết bị sử dụng window. Trong bài viết này mình sẽ cùng tìm hiểu x...</p></div></div></a></div><div class="card"> <a href="/posts/stateful-lifecycle/"><div class="card-body"> <span class="timeago small" > Oct 1, 2020 <i class="unloaded">2020-10-01T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Flutter] StatefulWidget Lifecycle</h3><div class="text-muted small"><p> Hi mọi người ! Trong bài viết này mình sẽ cùng tìm hiểu về vòng đời của 1 StatefulWidget nhé. Introduction Khi Flutter build một StatefulWidget, nó sẽ tạo ra một State object. Object này là nơi ...</p></div></div></a></div><div class="card"> <a href="/posts/flutter-effective-dart/"><div class="card-body"> <span class="timeago small" > Dec 24, 2020 <i class="unloaded">2020-12-24T14:15:03+00:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>[Flutter] Effective Dart (Part I)</h3><div class="text-muted small"><p> Bài viết giúp bạn làm thế nào để xây dựng mã code clean clear hơn. Chi tiết ở đây Để áp dụng vào dự án nhanh và dễ dàng hơn, dart analyzer cung cấp lint - một bộ quy tắc cần tuân theo khi viết cod...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/flutter-2.0.5-news/" class="btn btn-outline-primary" prompt="previous"><p>[Flutter] Flutter 2.5 có gì mới</p></a> <a href="/posts/flutter-2.8/" class="btn btn-outline-primary" prompt="next"><p>[Flutter] Flutter 2.8 có gì mới ?</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://github.com/HadesPTIT">Hades</a>.</p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/flutter/">flutter</a> <a class="post-tag" href="/tags/dart/">dart</a> <a class="post-tag" href="/tags/rxjava/">rxjava</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/new/">new</a> <a class="post-tag" href="/tags/performance/">performance</a> <a class="post-tag" href="/tags/android-studio/">android studio</a> <a class="post-tag" href="/tags/as/">as</a> <a class="post-tag" href="/tags/cicd/">cicd</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://HadesPTIT.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
