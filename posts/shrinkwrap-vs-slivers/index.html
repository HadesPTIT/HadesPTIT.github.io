<!doctype html><html lang="en-US" data-mode="dark"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="[Flutter] ShrinkWrap vs Slivers Decoding Flutter" /><meta property="og:locale" content="en_US" /><meta name="description" content="Introduction" /><meta property="og:description" content="Introduction" /><link rel="canonical" href="https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" /><meta property="og:url" content="https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/" /><meta property="og:site_name" content="Hades" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-20T14:15:03+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="[Flutter] ShrinkWrap vs Slivers Decoding Flutter" /><meta name="twitter:site" content="@hades_pt" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-11-20T14:15:03+00:00","datePublished":"2021-11-20T14:15:03+00:00","description":"Introduction","headline":"[Flutter] ShrinkWrap vs Slivers Decoding Flutter","mainEntityOfPage":{"@type":"WebPage","@id":"https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/"},"url":"https://hadesptit.github.io/posts/shrinkwrap-vs-slivers/"}</script><title>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter | Hades</title><link rel="icon" type="image/png" href="/assets/img/favicons/favicon-96x96.png" sizes="96x96"><link rel="icon" type="image/svg+xml" href="/assets/img/favicons/favicon.svg"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@7.1.0/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.36.4/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.18/dayjs.min.js,npm/dayjs@1.11.18/locale/en.js,npm/dayjs@1.11.18/plugin/relativeTime.js,npm/dayjs@1.11.18/plugin/localizedFormat.js,npm/tocbot@4.36.4/dist/tocbot.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="https://avatars.githubusercontent.com/u/20601191?s=400" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Hades</a><p class="site-subtitle fst-italic mb-0">Chase excellence success will follow you</p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info"></i> <span>ABOUT</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <a href="https://github.com/HadesPTIT" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/hades_pt" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fab fa-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['Hphamptit','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="true"><header><h1 data-toc-skip>[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1637417703" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Nov 20, 2021 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/HadesPTIT">Hades</a> </em> </span><div> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1530 words" > <em>8 min</em> read</span></div></div></div></header><div id="toc-bar" class="d-flex align-items-center justify-content-between invisible"> <span class="label text-truncate">[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</span> <button type="button" class="toc-trigger btn me-1"> <i class="fa-solid fa-list-ul fa-fw"></i> </button></div><button id="toc-solo-trigger" type="button" class="toc-trigger btn btn-outline-secondary btn-sm"> <span class="label ps-2 pe-1">Contents</span> <i class="fa-solid fa-angle-right fa-fw"></i> </button> <dialog id="toc-popup" class="p-0"><div class="header d-flex flex-row align-items-center justify-content-between"><div class="label text-truncate py-2 ms-4">[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</div><button id="toc-popup-close" type="button" class="btn mx-1 my-1 opacity-75"> <i class="fas fa-close"></i> </button></div><div id="toc-popup-content" class="px-4 py-3 pb-4"></div></dialog><div class="content"><h2 id="introduction"><span class="me-2"><strong>Introduction</strong></span><a href="#introduction" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Một trong những widget cơ bản mà các developer sử dụng thường xuyên đó là <strong>ListView</strong>. <br /> ListView rất dễ dùng, nhưng để tối ưu nó thì không hẳn ai cũng biết. Trong bài viết này, mình sẽ cùng đi vào một usecase rất phổ biến đó là lồng listview trong listview và bài toán performance.</p><p>Ví dụ bên dưới đây cho bạn thấy cách mà ta lồng các ListView con vào 1 ListView thông thường.</p><div class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="Dart"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre>
<span class="n">ListView</span><span class="p">(</span>
  <span class="c1">// Setting `shrinkWrap` to `true` here is both unnecessary and expensive.</span>
  <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
    <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
      <span class="nl">itemCount:</span> <span class="n">list1Children</span><span class="o">.</span><span class="na">length</span><span class="p">,</span>
      <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">list1Children</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
      <span class="p">},</span>
      <span class="c1">// This forces the `ListView` to build all of its children up front,</span>
      <span class="c1">// negating much of the benefit of using `ListView.builder`.</span>
      <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
      <span class="nl">itemCount:</span> <span class="n">list2Children</span><span class="o">.</span><span class="na">length</span><span class="p">,</span>
      <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">list2Children</span><span class="p">[</span><span class="n">index</span><span class="p">];</span>
      <span class="p">},</span>
      <span class="c1">// This forces the `ListView` to build all of its children up front,</span>
      <span class="c1">// negating much of the benefit of using `ListView.builder`.</span>
      <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="p">),</span>
    <span class="p">...</span>
  <span class="p">],</span>
<span class="p">)</span>
</pre></table></code></div></div><p>Hãy cùng xem lại về định nghĩa của <code class="language-plaintext highlighter-rouge">shrinkWrap</code> ở <a href="https://api.flutter.dev/flutter/widgets/ScrollView/shrinkWrap.html">đây</a></p><blockquote><p>Việc set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code> sẽ force toàn bộ listview bên trong của bạn tính toán lại sao cho chiều cao của list là hữu hạn thay vì chiều cao thông thường của các listview là vô cùng. Điều này sẽ gây giảm hiệu năng hơn đáng kể bởi kích thước của scrollview luôn cần được tính toán lại bất cứ khi nào vị trí scroll thay đổi.</p></blockquote><p>Giờ thì bạn đã hiểu tại sao phần code bên trên sẽ khá <code class="language-plaintext highlighter-rouge">tốn kém</code> rồi phải không :D</p><p>Có 2 vấn đề bạn cần phải để ý :</p><ol><li><code class="language-plaintext highlighter-rouge">ListView</code> bao ngoài cùng đang không set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code>, mà chỉ listview con cần set mà thôi<li><code class="language-plaintext highlighter-rouge">ListView.Builder</code> hiệu quả trong việc build các thành phần con của nó, tránh việc phải build những widget không thuộc viewport. Nhưng việc set <code class="language-plaintext highlighter-rouge">shrinkWrap = true</code> sẽ overrides lại cách làm này, khi đó ListView.Builder sẽ không còn ý nghĩa nữa.</ol><h3 id="everything-builds"><span class="me-2">Everything builds!</span><a href="#everything-builds" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><div class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="Dart"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'dart:math'</span> <span class="k">as</span> <span class="n">math</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">ShrinkWrApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="nl">debugShowCheckedModeBanner:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s">'ShrinkWrap vs Slivers'</span><span class="p">,</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="kd">const</span> <span class="n">Text</span><span class="p">(</span><span class="s">"ShrinkWrap, Street Rat, I don't, Buy that!"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">(),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrapSlivers</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">({</span>
    <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">_ShrinkWrapSliversState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_ShrinkWrapSliversState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_ShrinkWrapSliversState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ShrinkWrapSlivers</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">List</span><span class="p">&lt;</span><span class="n">ListView</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">final</span> <span class="n">numLists</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">numberOfItemsPerList</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">numLists</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">_innerList</span> <span class="o">=</span> <span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">numberOfItemsPerList</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_innerList</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="kd">const</span> <span class="n">ColorRow</span><span class="p">());</span>
      <span class="p">}</span>
      <span class="n">innerLists</span><span class="o">.</span><span class="na">add</span><span class="p">(</span>
        <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
          <span class="nl">itemCount:</span> <span class="n">numberOfItemsPerList</span><span class="p">,</span>
          <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_innerList</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
          <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="p">,</span>
          <span class="nl">physics:</span> <span class="kd">const</span> <span class="n">NeverScrollableScrollPhysics</span><span class="p">(),</span>
        <span class="p">),</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
        <span class="nl">itemCount:</span> <span class="n">numLists</span><span class="p">,</span>
        <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">innerLists</span><span class="p">[</span><span class="n">index</span><span class="p">]);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">ColorRow</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ColorRow</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">State</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">ColorRowState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ColorRowState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="n">Color</span><span class="o">?</span> <span class="n">color</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">randomColor</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">'Building ColorRowState'</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
      <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="p">(</span>
        <span class="nl">gradient:</span> <span class="n">LinearGradient</span><span class="p">(</span>
          <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">topLeft</span><span class="p">,</span>
          <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomRight</span><span class="p">,</span>
          <span class="nl">colors:</span> <span class="p">[</span>
            <span class="n">randomColor</span><span class="p">(),</span>
            <span class="n">randomColor</span><span class="p">(),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">child:</span> <span class="n">Row</span><span class="p">(</span>
        <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
          <span class="n">Padding</span><span class="p">(</span>
            <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mf">8.0</span><span class="p">),</span>
            <span class="nl">child:</span> <span class="n">Container</span><span class="p">(</span><span class="nl">height:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">width:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">),</span>
          <span class="p">),</span>
          <span class="n">Flexible</span><span class="p">(</span>
            <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
              <span class="nl">children:</span> <span class="kd">const</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
                <span class="n">Padding</span><span class="p">(</span>
                  <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">'I</span><span class="se">\'</span><span class="s">m a widget!'</span><span class="p">,</span>
                      <span class="nl">style:</span> <span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">)),</span>
                <span class="p">),</span>
              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">],</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">Color</span> <span class="nf">randomColor</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
    <span class="n">Color</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="na">Random</span><span class="p">()</span><span class="o">.</span><span class="na">nextDouble</span><span class="p">()</span> <span class="o">*</span> <span class="mh">0xFFFFFF</span><span class="p">)</span><span class="o">.</span><span class="na">toInt</span><span class="p">())</span><span class="o">.</span><span class="na">withOpacity</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
</pre></table></code></div></div><p>Nếu chạy thử, bạn sẽ thấy 1 vấn đề xảy ra, đó là ngay khi UI được load, 100 item đầu được render ngay mặc dù ta mới chỉ nhìn thấy vài item đầu… Và khi bạn scroll thêm một đoạn đủ 100 item, thì 100 item tiếp theo sẽ được load ngay sau đó tại 1 thời điểm. Đây như là một vụ bom nổ vậy :D</p><p>Giờ phải làm như nào ???</p><h3 id="lazily-building-nested-lists"><span class="me-2">Lazily building nested lists</span><a href="#lazily-building-nested-lists" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Để cứu bạn, hãy cùng xay dựng lại giao diện với <code class="language-plaintext highlighter-rouge">Slivers</code> thay vì ListViews.</p><p>Để tìm hiểu thêm về sliver, hãy đọc ở <a href="https://docs.flutter.dev/development/ui/advanced/slivers">đây</a></p><h4 id="bước-1"><span class="me-2">Bước 1</span><a href="#bước-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Thay ListView wrap ngoài cùng bằng <code class="language-plaintext highlighter-rouge">SliverList</code></p><div class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="Dart"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="c1">// Before</span>
<span class="nd">@override</span>
<span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="p">(</span>
    <span class="nl">itemCount:</span> <span class="n">numberOfLists</span><span class="p">,</span>
    <span class="nl">itemBuilder:</span> <span class="p">(</span><span class="n">context</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">innerLists</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
  <span class="p">);</span>
<span class="p">}</span>

<span class="c1">// After</span>
<span class="nd">@override</span>
<span class="n">Widget</span> <span class="nf">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="n">CustomScrollView</span><span class="p">(</span><span class="nl">slivers:</span> <span class="n">innerLists</span><span class="p">);</span>
<span class="p">}</span>

</pre></table></code></div></div><h4 id="bước-2"><span class="me-2">Bước 2</span><a href="#bước-2" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Thay đổi data type của listview con từ List<ListView> =&gt; List<SliverList></SliverList></ListView></p><div class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="Dart"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1">// Before</span>
<span class="kt">List</span><span class="p">&lt;</span><span class="n">ListView</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>

<span class="c1">// After</span>
<span class="kt">List</span><span class="p">&lt;</span><span class="n">SliverList</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>

</pre></table></code></div></div><h4 id="bước-3"><span class="me-2">Bước 3</span><a href="#bước-3" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>Giờ thì restructure đống listview con nào. SliverList thì hơi khác so với ListView, chủ yếu từ sự xuất hiện của 1 thằng là delegate.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre><td class="rouge-code"><pre>
// Before
@override
void initState() {
  super.initState();
  for (int i = 0; i &lt; numberOfLists; i++) {
    final _innerList = &lt;ColorRow&gt;[];
    for (int j = 0; j &lt; numberOfItemsPerList; j++) {
      _innerList.add(const ColorRow());
    }
    innerLists.add(
      ListView.builder(
        itemCount: numberOfItemsPerList,
        itemBuilder: (BuildContext context, int index) =&gt; _innerList[index],
        shrinkWrap: true,
        physics: const NeverScrollableScrollPhysics(),
      ),
    );
  }
}

// After
@override
void initState() {
  super.initState();
  for (int i = 0; i &lt; numLists; i++) {
    final _innerList = &lt;ColorRow&gt;[];
    for (int j = 0; j &lt; numberOfItemsPerList; j++) {
      _innerList.add(const ColorRow());
    }
    innerLists.add(
      SliverList(
        delegate: SliverChildBuilderDelegate(
          (BuildContext context, int index) =&gt; _innerList[index],
          childCount: numberOfItemsPerList,
        ),
      ),
    );
  }
}
</pre></table></code></div></div><p>Và đây là thành quả</p><div class="language-dart highlighter-rouge"><div class="code-header"> <span data-label-text="Dart"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="s">'package:flutter/material.dart'</span><span class="o">;</span>
<span class="kn">import</span> <span class="s">'dart:math'</span> <span class="k">as</span> <span class="n">math</span><span class="o">;</span>

<span class="kt">void</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">runApp</span><span class="p">(</span><span class="n">SliversApp</span><span class="p">());</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">SliversApp</span> <span class="kd">extends</span> <span class="n">StatelessWidget</span> <span class="p">{</span>
  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">MaterialApp</span><span class="p">(</span>
      <span class="nl">debugShowCheckedModeBanner:</span> <span class="kc">false</span><span class="p">,</span>
      <span class="nl">title:</span> <span class="s">'ShrinkWrap vs Slivers'</span><span class="p">,</span>
      <span class="nl">home:</span> <span class="n">Scaffold</span><span class="p">(</span>
        <span class="nl">appBar:</span> <span class="n">AppBar</span><span class="p">(</span>
          <span class="nl">title:</span> <span class="kd">const</span> <span class="n">Text</span><span class="p">(</span><span class="s">"Revenge of the Slivers"</span><span class="p">),</span>
        <span class="p">),</span>
        <span class="nl">body:</span> <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">(),</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ShrinkWrapSlivers</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ShrinkWrapSlivers</span><span class="p">({</span>
    <span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">,</span>
  <span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">_ShrinkWrapSliversState</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_ShrinkWrapSliversState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">_ShrinkWrapSliversState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ShrinkWrapSlivers</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="kt">List</span><span class="p">&lt;</span><span class="n">SliverList</span><span class="p">&gt;</span> <span class="n">innerLists</span> <span class="o">=</span> <span class="p">[];</span>
  <span class="kd">final</span> <span class="n">numLists</span> <span class="o">=</span> <span class="mi">15</span><span class="p">;</span>
  <span class="kd">final</span> <span class="n">numberOfItemsPerList</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="p">&lt;</span> <span class="n">numLists</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">final</span> <span class="n">_innerList</span> <span class="o">=</span> <span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;[];</span>
      <span class="k">for</span> <span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">j</span> <span class="p">&lt;</span> <span class="n">numberOfItemsPerList</span><span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_innerList</span><span class="o">.</span><span class="na">add</span><span class="p">(</span><span class="kd">const</span> <span class="n">ColorRow</span><span class="p">());</span>
      <span class="p">}</span>
      <span class="n">innerLists</span><span class="o">.</span><span class="na">add</span><span class="p">(</span>
        <span class="n">SliverList</span><span class="p">(</span>
          <span class="nl">delegate:</span> <span class="n">SliverChildBuilderDelegate</span><span class="p">(</span>
            <span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">,</span> <span class="kt">int</span> <span class="n">index</span><span class="p">)</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">_innerList</span><span class="p">[</span><span class="n">index</span><span class="p">],</span>
            <span class="nl">childCount:</span> <span class="n">numberOfItemsPerList</span><span class="p">,</span>
          <span class="p">),</span>
        <span class="p">),</span>
      <span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">CustomScrollView</span><span class="p">(</span><span class="nl">slivers:</span> <span class="n">innerLists</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nd">@immutable</span>
<span class="kd">class</span> <span class="nc">ColorRow</span> <span class="kd">extends</span> <span class="n">StatefulWidget</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="n">ColorRow</span><span class="p">({</span><span class="n">Key</span><span class="o">?</span> <span class="n">key</span><span class="p">})</span> <span class="o">:</span> <span class="k">super</span><span class="p">(</span><span class="nl">key:</span> <span class="n">key</span><span class="p">);</span>

  <span class="nd">@override</span>
  <span class="n">State</span> <span class="n">createState</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span> <span class="n">ColorRowState</span><span class="p">();</span>
<span class="p">}</span>

<span class="kd">class</span> <span class="nc">ColorRowState</span> <span class="kd">extends</span> <span class="n">State</span><span class="p">&lt;</span><span class="n">ColorRow</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="n">Color</span><span class="o">?</span> <span class="n">color</span><span class="p">;</span>

  <span class="nd">@override</span>
  <span class="kt">void</span> <span class="n">initState</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">super</span><span class="o">.</span><span class="na">initState</span><span class="p">();</span>
    <span class="n">color</span> <span class="o">=</span> <span class="n">randomColor</span><span class="p">();</span>
  <span class="p">}</span>

  <span class="nd">@override</span>
  <span class="n">Widget</span> <span class="n">build</span><span class="p">(</span><span class="n">BuildContext</span> <span class="n">context</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">print</span><span class="p">(</span><span class="s">'Building ColorRowState'</span><span class="p">);</span>
    <span class="k">return</span> <span class="n">Container</span><span class="p">(</span>
      <span class="nl">decoration:</span> <span class="n">BoxDecoration</span><span class="p">(</span>
        <span class="nl">gradient:</span> <span class="n">LinearGradient</span><span class="p">(</span>
          <span class="nl">begin:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">topLeft</span><span class="p">,</span>
          <span class="nl">end:</span> <span class="n">Alignment</span><span class="o">.</span><span class="na">bottomRight</span><span class="p">,</span>
          <span class="nl">colors:</span> <span class="p">[</span>
            <span class="n">randomColor</span><span class="p">(),</span>
            <span class="n">randomColor</span><span class="p">(),</span>
          <span class="p">],</span>
        <span class="p">),</span>
      <span class="p">),</span>
      <span class="nl">child:</span> <span class="n">Row</span><span class="p">(</span>
        <span class="nl">children:</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
          <span class="n">Padding</span><span class="p">(</span>
            <span class="nl">padding:</span> <span class="kd">const</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mf">8.0</span><span class="p">),</span>
            <span class="nl">child:</span> <span class="n">Container</span><span class="p">(</span><span class="nl">height:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">width:</span> <span class="mi">50</span><span class="p">,</span> <span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">),</span>
          <span class="p">),</span>
          <span class="n">Flexible</span><span class="p">(</span>
            <span class="nl">child:</span> <span class="n">Column</span><span class="p">(</span>
              <span class="nl">children:</span> <span class="kd">const</span> <span class="p">&lt;</span><span class="n">Widget</span><span class="p">&gt;[</span>
                <span class="n">Padding</span><span class="p">(</span>
                  <span class="nl">padding:</span> <span class="n">EdgeInsets</span><span class="o">.</span><span class="na">all</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
                  <span class="nl">child:</span> <span class="n">Text</span><span class="p">(</span><span class="s">'I</span><span class="se">\'</span><span class="s">m a widget!'</span><span class="p">,</span>
                      <span class="nl">style:</span> <span class="n">TextStyle</span><span class="p">(</span><span class="nl">color:</span> <span class="n">Colors</span><span class="o">.</span><span class="na">white</span><span class="p">)),</span>
                <span class="p">),</span>
              <span class="p">],</span>
            <span class="p">),</span>
          <span class="p">),</span>
        <span class="p">],</span>
      <span class="p">),</span>
    <span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="n">Color</span> <span class="nf">randomColor</span><span class="p">()</span> <span class="o">=</span><span class="p">&gt;</span>
    <span class="n">Color</span><span class="p">((</span><span class="n">math</span><span class="o">.</span><span class="na">Random</span><span class="p">()</span><span class="o">.</span><span class="na">nextDouble</span><span class="p">()</span> <span class="o">*</span> <span class="mh">0xFFFFFF</span><span class="p">)</span><span class="o">.</span><span class="na">toInt</span><span class="p">())</span><span class="o">.</span><span class="na">withOpacity</span><span class="p">(</span><span class="mf">1.0</span><span class="p">);</span>
</pre></table></code></div></div><p>Hãy chạy thử đoạn code trên, bạn sẽ thấy rằng UI sẽ không còn render 100 item 1 lúc mà chỉ render 1 phần rất nhỏ. Còn gì tuyệt hơn khi scroll đến cuối danh sách mà không mất bất kì chi phí tốn kém nào.</p><h2 id="conclusion"><span class="me-2">Conclusion</span><a href="#conclusion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Cảm ơn các bạn đã đọc bài viết. Happy coding ^^</p><h3 id="references"><span class="me-2">References</span><a href="#references" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><ul><li>https://www.youtube.com/watch?v=LUqDNnv_dh0</ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw me-1"></i> <a href="/categories/flutter/">Flutter</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/dart/" class="post-tag no-text-decoration" >dart</a> <a href="/tags/flutter/" class="post-tag no-text-decoration" >flutter</a> <a href="/tags/flutter-performance/" class="post-tag no-text-decoration" >flutter performance</a> <a href="/tags/listview/" class="post-tag no-text-decoration" >listview</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=[Flutter]%20ShrinkWrap%20vs%20Slivers%20%7C%20Decoding%20Flutter%20-%20Hades&url=https%3A%2F%2Fhadesptit.github.io%2Fposts%2Fshrinkwrap-vs-slivers%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=[Flutter]%20ShrinkWrap%20vs%20Slivers%20%7C%20Decoding%20Flutter%20-%20Hades&u=https%3A%2F%2Fhadesptit.github.io%2Fposts%2Fshrinkwrap-vs-slivers%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=[Flutter]%20ShrinkWrap%20vs%20Slivers%20%7C%20Decoding%20Flutter%20-%20Hades&url=https%3A%2F%2Fhadesptit.github.io%2Fposts%2Fshrinkwrap-vs-slivers%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fhadesptit.github.io%2Fposts%2Fshrinkwrap-vs-slivers%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Linkedin" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recent Update</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/flutter-338/">[Flutter] Flutter 3.38 & Dart 3.10 có gì mới ?</a><li class="text-truncate lh-lg"> <a href="/posts/flutter-33/">[Flutter] Flutter 3.3 có gì mới ?</a><li class="text-truncate lh-lg"> <a href="/posts/what-news-in-flutter3/">[Flutter] Flutter 3.0 có gì mới ?</a><li class="text-truncate lh-lg"> <a href="/posts/flutter-2.8/">[Flutter] Flutter 2.8 có gì mới ?</a><li class="text-truncate lh-lg"> <a href="/posts/shrinkwrap-vs-slivers/">[Flutter] ShrinkWrap vs Slivers | Decoding Flutter</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/flutter/">flutter</a> <a class="post-tag btn btn-outline-primary" href="/tags/dart/">dart</a> <a class="post-tag btn btn-outline-primary" href="/tags/rxjava/">rxjava</a> <a class="post-tag btn btn-outline-primary" href="/tags/kotlin/">kotlin</a> <a class="post-tag btn btn-outline-primary" href="/tags/new/">new</a> <a class="post-tag btn btn-outline-primary" href="/tags/performance/">performance</a> <a class="post-tag btn btn-outline-primary" href="/tags/android-studio/">android studio</a> <a class="post-tag btn btn-outline-primary" href="/tags/as/">as</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div class="toc-border-cover z-3"></div><section id="toc-wrapper" class="invisible position-sticky ps-0 pe-4 pb-4"><h2 class="panel-heading ps-3 pb-2 mb-0">Contents</h2><nav id="toc"></nav></section></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/what-news-in-flutter3/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1654092903" data-df="ll" > Jun 1, 2022 </time><h4 class="pt-0 my-2">[Flutter] Flutter 3.0 có gì mới ?</h4><div class="text-muted"><p>Giới thiệu 11/05/2022, Google I/O chính thức phát hành phiên bản Flutter 3 với rất nhiều cải tiến đáng kể. Đặc biệt dành cho các thiết bị sử dụng window. Trong bài viết này mình sẽ cùng tìm hiểu x...</p></div></div></a></article><article class="col"> <a href="/posts/flutter-2.0.5-news/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1631974503" data-df="ll" > Sep 18, 2021 </time><h4 class="pt-0 my-2">[Flutter] Flutter 2.5 có gì mới</h4><div class="text-muted"><p>Giới thiệu Google, gã khổng lồ tìm kiếm mới đây vừa tung ra phiên bản release 2.5 với 4600 closed issues và 3932 merged PRs. Đi kèm với nó, Dart 2.14 cũng được release cùng thời điểm. Trong bài vi...</p></div></div></a></article><article class="col"> <a href="/posts/key-trong-flutter/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1622988903" data-df="ll" > Jun 6, 2021 </time><h4 class="pt-0 my-2">[Flutter] Key trong Flutter</h4><div class="text-muted"><p>Giới thiệu Key được nhìn thấy ở hầu hết các phương thức khởi tạo widget. Nhưng việc sử dụng chúng không được phổ biến lắm. Trong bài viết này, mình sẽ cùng tìm hiểu xem key là gì, có những loại nà...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/flutter-2.0.5-news/" class="btn btn-outline-primary" aria-label="Older" ><p>[Flutter] Flutter 2.5 có gì mới</p></a> <a href="/posts/flutter-2.8/" class="btn btn-outline-primary" aria-label="Newer" ><p>[Flutter] Flutter 2.8 có gì mới ?</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://github.com/HadesPTIT">Hades</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.4.1" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/android/">android</a> <a class="post-tag btn btn-outline-primary" href="/tags/flutter/">flutter</a> <a class="post-tag btn btn-outline-primary" href="/tags/dart/">dart</a> <a class="post-tag btn btn-outline-primary" href="/tags/rxjava/">rxjava</a> <a class="post-tag btn btn-outline-primary" href="/tags/kotlin/">kotlin</a> <a class="post-tag btn btn-outline-primary" href="/tags/new/">new</a> <a class="post-tag btn btn-outline-primary" href="/tags/performance/">performance</a> <a class="post-tag btn btn-outline-primary" href="/tags/android-studio/">android studio</a> <a class="post-tag btn btn-outline-primary" href="/tags/as/">as</a> <a class="post-tag btn btn-outline-primary" href="/tags/cicd/">cicd</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
